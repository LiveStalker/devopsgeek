Группы процессов и сеансы -- это двухуровневое иерархическое отношение между процессами: группа процессов это совокупность связанных процессов, а сеанс представляет собой набор связанных групп процессов. Смысл термина связанный в каждом случае будет объяснен в ходе этой статьи.

Группы процессов и сеансы -- это абстрации определенные для поддержки управления задачами в оболочке, которые позволяют пользователю выполнять команды в активном или фоновом режиме. Термин задача (job) может использоваться как синоним группе процессов.

В этой статье разберемся с группами процессов, сеансами и управлением задачами.

## Введение

**Группа процессов** -- это набор из одного или более процессов, которые имеют один и тот же идентификатор группы процессов (PGID -- process group identifier). PGID - это числов такого же типа (pid_t) как и идентификатор процесса (PID). У каждой группы процессов есть лидер (process group leader) - это процесс, который создал группу, PID этого процесса становится идентификатором группы процессов PGID.

Группа процессов имеет время жизни. Группа начинает свое существование с момента, когда лидер создал группу и заканчивается, когда последний член группы покинул группу (либо завершил свою работу, либо сменил членство).

**Сессия** -- это набор групп процессов. Принадлежность к сессии определяется по идентификатору сессии (SID -- session identifier), который как и идентификатор группы процессов имеет тип pid_t. Лидер сессии -- это процесс который создал новую сессию и чей PID становится идентификатором сессии. Все процессы, принадлежащие, одной сесии разделяют между собой один управляющий терминал (controlling terminal). Управляющий терминал устанавливается, когда лидер сессии первый раз открывает терминальное устройство.

В любой момент времени, только одна группа процессов в сессии находит в активном (на переднем плане) режиме для контролирующего терминала, остальные группы процессов находятся в фоновом режиме. Только процессы находящиеся в активном режиме могут читать поток ввода с управляющего терминала. Когда пользователь вводит на терминале одну из специальных комбинаций клавиш, всем процессам активной группы отправляется сигнал.

|Комбинация клавиш|Сигнал|Описание|
|-|-|-|
|Control-C|SIGINT|сигнал для остановки процесса пользователем с терминала|
|Control-\\|SIGQUIT|сигнал, для остановки процесса пользователем, комбинацией «quit» на терминале, этот сигнал также указывает, что система должна выполнить дамп памяти для процесса|
|Control-Z|SIGTSTP|сигнал, посылаемый c терминала для приостановки выполнения процесса|

При установлении соединения с контролирующим терминалом лидер сессии становится контролирующим процессом для данного терминала. В случае, если произойдет отключение от терминала этот процесс получит сигнал SIGHUP.
